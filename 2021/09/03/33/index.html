<!DOCTYPE html>
<html lang="zh-CN">
    <head>
    <meta charset="utf-8">

    

    <!-- 渲染优化 -->
    <meta name="renderer" content="webkit">
    <meta name="force-rendering" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="HandheldFriendly" content="True" >
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <!--icon-->

    
    
    
    
    


    <!-- meta -->


<title>计算机网络基础--数据链路层 | Hank</title>





    <!-- OpenGraph -->
 
    <meta name="description" content="by:Hank 数据链路层    数据链路层（OSI第二层，Data Link Layer）,传输单元为帧，由MAC子层协议封装帧头和帧尾。    帧结构：    帧头有两种协议：802.3（有线网封装），802.11（无线网封装）。    帧头中的内容：目标MAC，源MAC，类型字段。    类型字段有两个值：0x0800（上层为IP协议），0x0806（上层为ARP协议）。类型字段用于识别上层">
<meta property="og:type" content="article">
<meta property="og:title" content="计算机网络基础--数据链路层">
<meta property="og:url" content="https://dyh.dyh365.cn/2021/09/03/33/index.html">
<meta property="og:site_name" content="Hank">
<meta property="og:description" content="by:Hank 数据链路层    数据链路层（OSI第二层，Data Link Layer）,传输单元为帧，由MAC子层协议封装帧头和帧尾。    帧结构：    帧头有两种协议：802.3（有线网封装），802.11（无线网封装）。    帧头中的内容：目标MAC，源MAC，类型字段。    类型字段有两个值：0x0800（上层为IP协议），0x0806（上层为ARP协议）。类型字段用于识别上层">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2021-09-03T01:28:02.363Z">
<meta property="article:modified_time" content="2021-09-03T01:27:12.927Z">
<meta property="article:author" content="Hank">
<meta name="twitter:card" content="summary_large_image">


    
<link rel="stylesheet" href="/css/style/main.css">
 

    
    
        <link rel="stylesheet" id="hl-default-theme" href="/css/highlight/default.css" media="none" onload="this.media='all'">
        
    

    
    

    

     

    <!-- custom head -->

<meta name="generator" content="Hexo 5.4.0"></head>

    <body>
        <div id="app">
            <header class="header">
    <div class="header__left">
        <a href="/" class="button">
            <span class="logo__text">Hank的博客</span>
        </a>
    </div>
    <div class="header__right">
        
            <div class="navbar__menus">
                
                    <a href="https://dyh.dyh365.cn" class="navbar-menu button">首页</a>
                
                    <a target="_blank" rel="noopener" href="https://1101262284@qq.com" class="navbar-menu button">邮箱</a>
                
                    <a href="https://dyh.dyh365.cn/page" class="navbar-menu button">归档</a>
                
                    <a href="https://dyh.dyh365.cn/about" class="navbar-menu button">关于</a>
                
            </div>
        
        
        

        
        

        
            <a class="dropdown-icon button" id="btn-dropdown" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width='24' height='24' fill="none" stroke="currentColor" stroke-width="0.7" stroke-linecap="round" stroke-linejoin="round"><path fill="currentColor" d="M3.314,4.8h13.372c0.41,0,0.743-0.333,0.743-0.743c0-0.41-0.333-0.743-0.743-0.743H3.314c-0.41,0-0.743,0.333-0.743,0.743C2.571,4.467,2.904,4.8,3.314,4.8z M16.686,15.2H3.314c-0.41,0-0.743,0.333-0.743,0.743s0.333,0.743,0.743,0.743h13.372c0.41,0,0.743-0.333,0.743-0.743S17.096,15.2,16.686,15.2z M16.686,9.257H3.314c-0.41,0-0.743,0.333-0.743,0.743s0.333,0.743,0.743,0.743h13.372c0.41,0,0.743-0.333,0.743-0.743S17.096,9.257,16.686,9.257z"></path></svg></a>
            <div class="dropdown-menus" id="dropdown-menus">
                
                    <a href="https://dyh.dyh365.cn" class="dropdown-menu button">首页</a>
                
                    <a target="_blank" rel="noopener" href="https://1101262284@qq.com" class="dropdown-menu button">邮箱</a>
                
                    <a href="https://dyh.dyh365.cn/page" class="dropdown-menu button">归档</a>
                
                    <a href="https://dyh.dyh365.cn/about" class="dropdown-menu button">关于</a>
                
            </div>
        
    </div>
</header>


            <main class="main">
    

<div class="post-title">
    <h1 class="post-title__text">
        计算机网络基础--数据链路层
    </h1>
    <div class="post-title__meta">
        <a href="/archives/2021/09/" class="post-meta__date button">2021-09-03</a>
        
 
        
    
    


 

 
    </div>
</div>



<article class="post content-card">
    <div class="post__header"></div>
    <div class="post__content">
        <p>by:Hank</p>
<h2 id="数据链路层"><a href="#数据链路层" class="headerlink" title="数据链路层"></a>数据链路层</h2><ol>
<li>   数据链路层（OSI第二层，Data Link Layer）,传输单元为帧，由MAC子层协议封装帧头和帧尾。</li>
<li>   帧结构：</li>
<li>   帧头有两种协议：802.3（有线网封装），802.11（无线网封装）。</li>
<li>   帧头中的内容：目标MAC，源MAC，类型字段。</li>
<li>   类型字段有两个值：0x0800（上层为IP协议），0x0806（上层为ARP协议）。类型字段用于识别上层协议，为上层提供服务。类型占2字节，0x代表16进制。</li>
<li>   帧头长度为14字节，帧尾长度为4字节。</li>
<li>   MAC地址长度48位2进制，也就是6字节。MAC地址是全球唯一的。</li>
<li>   MTU值（最大传输单元）在帧头和帧尾之间，占1500字节，最长帧长度为1518字节。</li>
<li>   工作在数据链路层的设备有交换机、网卡。</li>
<li>   交换机的工作原理：交换机中有MAC地址表（记录连在上面的设备的MAC地址），得到帧后解析帧头，如果MAC地址表中没有目的MAC，就向所有端口进行广播，非目的MAC的设备收到后会丢弃，收到帧的交换机如果MAC地址表中没有目的MAC，学习源MAC，并向所有端口进行广播寻找目的MAC。目的MAC的设备收到帧后进行解封装，确认IP地址，识别端口号，并将信息通过目标端口发送到相应进程。<br>目标设备收到信息后，根据请求回复信息，将原帧中的源端口，目的端口，源IP，目的IP调换，源MAC，目的MAC调换，并通过网卡发送到交换机，这个交换机中已经学习了目的MAC（即收到信息时的源MAC），直接将信息发送到对应接口。</li>
<li>   交换机只会学习源MAC地址，不会学习目的MAC地址。</li>
<li>   交换机只记录自己的接口对应的MAC,其他mac地址靠学习记录。</li>
<li>   发送请求时使用的是广播，目标回应时使用的是单播。</li>
<li>   MAC地址表是自动形成的，如果在老化时间内没有从该接口收到任何信息，则这条记录会自动消失。老化时间可修改，默认为300秒。</li>
<li>   MAC地址表会更新覆盖之前的地址表。</li>
<li>   交换机的工作原理（精简版）：交换机收到一个帧后，首先学习帧中的MAC地址，来形成MAC地址表，然后检查帧中的目标MAC地址，并匹配地址表，如果表中有匹配项，则单播转发，如果表中没有匹配项，则除了接收端口外向所有端口广播转发，MAC地址表的老化时间默认是300秒，可修改。</li>
<li>   接口速率自适应：1000M/100M/10M自适应，如果接口有此功能，则速率可以为任何一个。</li>
<li>接口状态：UP/DOWN，当接口状态为DOWN时有三种可能：<br>1）    人工DOWN（手动在路由器或交换机上DOWN掉接口）。<br>2）    速率不匹配（一端是百兆网口另一端是千兆网口且没有速率自适应功能）。<br>3）    双工模式不匹配（单工、半双工、全双工）。</li>
</ol>

    </div>
     
    <div class="post-footer__meta"><p>更新于 2021-09-03</p></div> 
    <div class="post-entry__tags"></div> 
</article>


    <div class="nav">
        <div class="nav__prev">
            
                <a href="/2021/09/03/44/" class="nav__link">
                    <div>
                        <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M589.088 790.624L310.464 512l278.624-278.624 45.248 45.248L400.96 512l233.376 233.376z" fill="#808080"></path></svg>
                    </div>
                    <div>
                        <div class="nav__label">
                            Previous Post
                        </div>
                        <div class="nav__title">
                            计算机网络基础--ARP
                        </div>
                    </div>
                </a>
            
        </div>
        <div class="nav__next">
            
                <a href="/2021/09/03/22/" class="nav__link">
                    <div>
                        <div class="nav__label">
                            Next Post
                        </div>
                        <div class="nav__title">
                            计算机网络基础--路由原理
                        </div>
                    </div>
                    <div>
                        <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M434.944 790.624l-45.248-45.248L623.04 512l-233.376-233.376 45.248-45.248L713.568 512z" fill="#808080"></path></svg>
                    </div>
                </a>
            
        </div>
    </div>





</main>

            <footer class="footer">
    
    


    
     
 

 
    
        
        <p class="footer-copyright">
            Copyright © 2021 <a href="/">Hank</a>
        </p>
    
    
    <p>Powered by <a href="https://hexo.io" target="_blank">Hexo</a> | Theme - <a href="https://github.com/ChrAlpha/hexo-theme-cards" target="_blank">Cards</a></p>
</footer>

        </div>
         

 

 

 

 



 



 


    
 

 

 

 

 

 




    </body>
</html>
